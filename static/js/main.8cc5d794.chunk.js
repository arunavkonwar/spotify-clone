(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{201:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(84),o=a.n(s),i=(a(95),a(3)),l=a(4),c=a(6),u=a(5),p=a(12),m=a(7),h=(a(8),a(30)),b=a.n(h),g=b.a.initializeApp({apiKey:"AIzaSyDGrW5aXdvIGcyMJubCTzbrbOXU0FHRTaY",authDomain:"spotify-clone-a43f4.firebaseapp.com",databaseURL:"https://spotify-clone-a43f4.firebaseio.com",projectId:"spotify-clone-a43f4",storageBucket:"spotify-clone-a43f4.appspot.com",messagingSenderId:"183839951682",appId:"1:183839951682:web:f835ff5de517e35a8196db",measurementId:"G-WYFPZH55SM"}),f=a(85),d=["user-top-read","user-read-currently-playing","user-read-playback-state"],v=window.location.hash.substring(1).split("&").reduce(function(e,t){if(t){var a=t.split("=");e[a[0]]=decodeURIComponent(a[1])}return e},{});window.location.hash="";var E=v,y=(n.Component,a(17)),O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).reverseTitleLookup=function(e){for(var t in a.props.rawData)if(a.props.rawData[t].id===e)return a.props.rawData[t].title},a.reverseArtistLookup=function(e){for(var t in a.props.rawData)if(a.props.rawData[t].id===e)return a.props.rawData[t].artist},a.reverseAlbumCoverLookup=function(e){for(var t in a.props.rawData)if(a.props.rawData[t].id===e)return a.props.rawData[t].albumCover},a.state={songName:null},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),this.reverseTitleLookup(this.props.songPlaying)?r.a.createElement("div",{className:"songNameHeading"},"Now Playing"):null,r.a.createElement("div",{className:"songNameTitle"},this.reverseTitleLookup(this.props.songPlaying)," ",r.a.createElement("br",null),r.a.createElement("h6",null,this.reverseArtistLookup(this.props.songPlaying)),r.a.createElement("img",{src:this.reverseAlbumCoverLookup(this.props.songPlaying)})))}}]),t}(n.Component),j=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"sidebutton"},r.a.createElement("a",{href:!0,onClick:function(){return e.props.focus(e.props.mapname)}},this.props.linkname))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logout=a.logout.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(){g.auth().signOut()}},{key:"render",value:function(){return r.a.createElement("div",{className:"sidenav"},r.a.createElement("div",{className:"siteLogo"},r.a.createElement("img",{src:"images/spotify-logo.png",width:"60%",align:"center"})),r.a.createElement("br",null),r.a.createElement(j,{linkname:"Home",mapname:"songs",focus:this.props.focus}),r.a.createElement(j,{linkname:"Search",mapname:"search",focus:this.props.focus}),r.a.createElement(j,{linkname:"Your Library",mapname:"library",focus:this.props.focus}),r.a.createElement("div",null,r.a.createElement(O,{rawData:this.props.rawData,songPlaying:this.props.songPlaying,id:this.props.songPlaying})))}}]),t}(n.Component),k=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"click",value:function(e){e.preventDefault(),this.props.handler(this.props.songName),console.log(this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"one-song"},r.a.createElement("a",{onClick:function(){return e.props.action(e.props.id)}},this.props.title),r.a.createElement("br",null),r.a.createElement("h6",null,r.a.createElement("a",null,this.props.artist),"   |   ",r.a.createElement("a",null,this.props.album)))}}]),t}(n.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logout=a.logout.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"logout",value:function(){g.auth().signOut().then(function(){}).catch(function(e){})}},{key:"render",value:function(){return r.a.createElement("div",{className:"nav-main"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(y.b,{to:"/featured"},"FEATURED")),r.a.createElement("li",null,r.a.createElement(y.b,{to:"/podcasts"},"PODCASTS")),r.a.createElement("li",null,r.a.createElement(y.b,{to:"/genresandmood"},"GENRES & MOODS")),r.a.createElement("li",null,r.a.createElement(y.b,{to:"/newreleases"},"NEW RELEASES")),r.a.createElement("li",null,r.a.createElement(y.b,{to:"/discover"},"DISCOVER")),r.a.createElement("li",{className:"logout-button"},r.a.createElement(y.b,{to:"/"},r.a.createElement("div",{onClick:this.logout},"Logout")))))}}]),t}(n.Component),C=(n.Component,a(46)),N=a.n(C),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).searchLookup=function(e){var t=[],n=a.state.elementsRaw;for(var s in e.preventDefault(),n)n[s].title.includes(e.target.value)&&t.push(r.a.createElement(k,{title:n[s].title,album:n[s].album,artist:n[s].artist,action:a.props.action}));a.setState({elements:t})},a.state={src:"test-audio/Munich.mp3",elements:null,elementsRaw:null,searchterm:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=[];for(var t in this.props.rawData)e.push(r.a.createElement(k,{title:this.props.rawData[t].title,artist:this.props.rawData[t].artist,album:this.props.rawData[t].album,action:this.props.action}));this.setState({elements:e,elementsRaw:this.props.rawData})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{class:"filter-bar"},r.a.createElement("input",{type:"email",value:this.state.email,class:"form-control",name:"searchTerm",placeholder:"Search for your band",onChange:this.searchLookup}),r.a.createElement("br",null)),r.a.createElement("div",{className:"song-list"},this.state.elements))}}]),t}(n.Component),_=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("HELLO FROM LIBRARY");Date()}},{key:"render",value:function(){return r.a.createElement("div",{className:"song-list"},r.a.createElement("h1",null,"THIS IS THE LIBRARY"))}}]),t}(n.Component),P=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"click",value:function(e){e.preventDefault(),this.props.handler(this.props.songName),console.log(this)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("a",{onClick:function(){return e.props.action(e.props.id)}},r.a.createElement("div",{className:"song-panel-item-top"},r.a.createElement("img",{src:this.props.albumCover}),console.log(this.props.albumCover),r.a.createElement("h6",null,this.props.title))),r.a.createElement("div",{className:"song-panel-item-bottom"},r.a.createElement("h6",null,this.props.artist)))}}]),t}(n.Component),L=function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=[];for(var t in this.props.rawData)e.push(r.a.createElement("div",null,r.a.createElement(P,{title:this.props.rawData[t].title,album:this.props.rawData[t].album,artist:this.props.rawData[t].artist,albumCover:this.props.rawData[t].albumCover,action:this.props.action,id:this.props.rawData[t].id})));return r.a.createElement("div",{class:"songPanelFlex"},e)}}]),t}(n.Component),R=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-panel"},this.props.focuspanel.songs&&r.a.createElement(L,{action:this.props.action,rawData:this.props.rawData}),this.props.focuspanel.search&&r.a.createElement(S,{rawData:this.props.rawData}),this.props.focuspanel.library&&r.a.createElement(_,null))}}]),t}(n.Component),A=a(88),I=a.n(A),T=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"audioPlayer"},r.a.createElement(I.a,{src:"".concat(this.props.storage,"/").concat(this.props.src,".mp3"),controls:!0,autoPlay:!0}))}}]),t}(n.Component),M=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"playbar"},r.a.createElement(T,{src:this.props.src,storage:this.props.storage})))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handler=function(e){console.log("The ".concat(e," link was clicked.")),a.setState({src:e,songPlaying:e})},a.changefocus=function(e){console.log("The ".concat(e," link was FOCUSED."));var t={songs:!0,search:!1,library:!1};for(var n in t)t[n]=n===e;a.setState({focus:t})},a.state={src:"1",focus:{songs:!0,search:!1,library:!1},rawData:null,songPlaying:null,songStorage:"https://firebasestorage.googleapis.com/v0/b/spotify-clone-a43f4.appspot.com/o"},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"logout",value:function(){g.auth().signOut()}},{key:"componentDidMount",value:function(){var e=this;N.a.get("http://localhost:3000/songs").then(function(t){e.setState({rawData:t.data})})}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement("div",{className:"wrapper"},r.a.createElement(R,{action:this.handler,focuspanel:this.state.focus,rawData:this.state.rawData}),r.a.createElement(w,{focus:this.changefocus,rawData:this.state.rawData,songPlaying:this.state.songPlaying}),r.a.createElement(M,{src:this.state.songPlaying,storage:this.state.songStorage})))}}]),t}(n.Component),B=a(89),F=(a(201),function(e){var t={backgroundImage:"url(".concat(e.item.album.images[0].url,")")},a={width:100*e.progress_ms/e.item.duration_ms+"%"};return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"main-wrapper"},r.a.createElement("div",{className:"now-playing__img"},r.a.createElement("img",{src:e.item.album.images[0].url})),r.a.createElement("div",{className:"now-playing__side"},r.a.createElement("div",{className:"now-playing__name"},e.item.name),r.a.createElement("div",{className:"now-playing__artist"},e.item.artists[0].name),r.a.createElement("div",{className:"now-playing__status"},e.is_playing?"Playing":"Paused"),r.a.createElement("div",{className:"progress"},r.a.createElement("div",{className:"progress__bar",style:a}))),r.a.createElement("div",{className:"background",style:t})," "))}),G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={user:null,token:null,item:{album:{images:[{url:""}]},name:"",artists:[{name:""}],duration_ms:0},is_playing:"Paused",progress_ms:0},a.getCurrentlyPlaying=a.getCurrentlyPlaying.bind(Object(p.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=E.access_token;e&&(this.setState({token:e}),this.getCurrentlyPlaying(e))}},{key:"getCurrentlyPlaying",value:function(e){var t=this;B.ajax({url:"https://api.spotify.com/v1/me/player",type:"GET",beforeSend:function(t){t.setRequestHeader("Authorization","Bearer "+e)},success:function(e){console.log("data",e),t.setState({item:e.item,is_playing:e.is_playing,progress_ms:e.progress_ms})}})}},{key:"authListener",value:function(){var e=this;g.auth().onAuthStateChanged(function(t){t?e.setState({user:t}):e.setState({user:null})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},(this.state.user,r.a.createElement(H,null)),this.state.token&&r.a.createElement(F,{item:this.state.item,is_playing:this.state.is_playing,progress_ms:this.progress_ms}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,a){},90:function(e,t,a){e.exports=a(202)},95:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.8cc5d794.chunk.js.map